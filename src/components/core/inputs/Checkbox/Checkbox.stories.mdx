import { Fragment } from 'react';
import { Meta, Preview, Story, Props } from '@storybook/addon-docs/blocks';
import { boolean, text } from '@storybook/addon-knobs';
import { useForm } from 'hooks';
import { Link } from 'components/core/navigation';
import Checkbox from '.';

<Meta title="Components/core/inputs/Checkbox" component={Checkbox} />

# Checkbox

A checkbox that allows users to select an option. The label next to the checkbox describes the selection option.

export const getProps = (id, required) => ({
  required: boolean('Required', true, id),
  disabled: boolean('Disabled', false, id),
});

<Preview withToolbar>
  <Story name="Label with text">
    {() => {
      const form = useForm({
        pizza: {
          type: 'checkbox',
          validate: state => !state,
        },
      });
      return (
        <Checkbox
          {...form.fields.pizza}
          {...getProps('label_with_text', false)}
          label={text('Label', 'I eat pizza', 'label_with_text')}
        />
      );
    }}
  </Story>
</Preview>

## Code example

```tsx
import { Checkbox } from '@mds/components/core/inputs';
```

```tsx
<Checkbox {...form.fields.agreements} label="I agree to the privacy policy" required />
```

## Props table

<Props of={Checkbox} />

## More stories

### Label with links

<Preview withToolbar>
  <Story name="Label with links">
    {() => {
      const form = useForm({
        privacyPolicy: {
          type: 'checkbox',
          validate: state => !state,
        },
      });
      return (
        <Checkbox
          {...form.fields.privacyPolicy}
          {...getProps('label_with_links', true)}
          label={
            <Fragment>
              I agree to the{' '}
              <Link
                href="https://www.example.com/privacy-policy"
                target="_blank"
                children="privacy policy"
              />
            </Fragment>
          }
        />
      );
    }}
  </Story>
</Preview>
