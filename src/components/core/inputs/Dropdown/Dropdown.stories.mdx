import { Meta, Description, Canvas, Story, ArgsTable } from '@storybook/addon-docs/blocks';
import { useForm } from 'hooks';
import Dropdown from '.';

<Meta title="Components/core/inputs/Dropdown" component={Dropdown} />

# Dropdown

<Description of={Dropdown} />

export const fieldsInfo = {
  example: {
    type: 'dropdown',
    options: [
      {
        label: 'Option 1',
        value: 'option_1',
      },
      {
        label: 'Option 2',
        value: 'option_2',
      },
      {
        label: 'Option 3',
        value: 'option_3',
      },
      {
        label: 'Option 4',
        value: 'option_4',
      },
      {
        label: 'Option 5',
        value: 'option_5',
      },
      {
        label: 'Option 6',
        value: 'option_6',
      },
      {
        label: 'Option 7',
        value: 'option_7',
      },
      {
        label: 'Option 8',
        value: 'option_8',
      },
      {
        label: 'Option 9',
        value: 'option_9',
      },
    ],
    validate: function (value) {
      if (!this.options.some(option => option.value === value)) {
        return 'Please select an option.';
      }
      return '';
    },
  },
};

export const Template = args => {
  const form = useForm(fieldsInfo);
  return <Dropdown {...args} {...form.fields.example} />;
};

export const getProps = id => ({
  label: id !== 'slim' ? 'Options' : undefined,
  placeholder: 'Select an option',
  required: true,
  slim: id === 'slim',
});

<Canvas withToolbar>
  <Story name="Default" args={getProps('default')}>
    {Template.bind({})}
  </Story>
</Canvas>

## Code example

```tsx
import { Dropdown } from '@mds/components/core/inputs';
```

```tsx
<Dropdown
  name="example"
  value=""
  options={[
    {
      label: 'Option 1',
      value: 'option_1',
    },
    {
      label: 'Option 2',
      value: 'option_2',
    },
    {
      label: 'Option 3',
      value: 'option_3',
    },
  ]}
  error=""
  onChange={() => handleChange(name, value)}
  onBlur={() => handleBlur(name, value)}
  label="Options"
  placeholder="Select an option"
  required
/>
```

## Props table

<ArgsTable of={Dropdown} />

## More stories

### Slim

<Canvas withToolbar>
  <Story name="Slim" args={getProps('slim')}>
    {Template.bind({})}
  </Story>
</Canvas>
